{% extends "common/page-layout.njk" %}
{% block body %}
<div class="w-full px-12">
  <div class="flex">
    <div class="grow"></div>
    <a href="/admin/badges/__new__" class="flex items-center"><span class="inline-block size-6 i-mdi-plus mr-2"></span> Add</a>
  </div>
  {% for badge in badges %}
    <div class="flex border-b mb-8 py-2">
      <img src="{{ badge.image_url }}" class="block size-32 mr-4">
      <div class="flex flex-col w-full">
        <p class="font-semibold text-xl">{{ badge.title }}</p>
        <p>{{ badge.description }}</p>
        <div class="grow"></div>
        <div class="flex items-end">
          <dl class="mt-2">
            <dt>Assigned for:</dt>
            {% if settings.current_game_badge_id === badge.id %}
              <dd class="font-semibold">Current game</dd>
            {% elif settings.sent_present_badge_id === badge.id %}
              <dd class="font-semibold">Sending gift</dd>
            {% elif settings.super_santa_badge_id === badge.id %}
              <dd class="font-semibold">Super santa</dd>
            {% elif badge.assigned_by_hashtag %}
              <dd class="font-semibold">{{ 'By elf' if badge.assigned_by_elf else 'Posting' }}: {{ badge.assigned_by_hashtag }}</dd>
            {% else %}
              <dd class="italic">Nothing</dd>
            {% endif %}
          </dl>
          <div class="grow"></div>
          <a href="/admin/badges/{{ badge.id }}" class="flex items-center"><span class="inline-block size-6 i-mdi-edit mr-2"></span> Edit</a>
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}